<!DOCTYPE html>
<html>
<head>
    <title>IPL POINTS TABLE</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            margin: 0;
            padding: 0;
        }

        h2 {
            text-align: center;
            margin: 20px 0;
        }

        table {
            width: 80%;
            margin: 20px auto;
            border-collapse: collapse;
            background-color: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #4CAF50;
            color: white;
        }

        tr:hover {
            background-color: #f5f5f5;
        }

        input[type="text"] {
            padding: 10px;
            border: none;
            background-color: #f2f2f2;
            width: 100%;
        }

        button {
            display: block;
            margin: 20px auto;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }

        button:hover {
            background-color: #3e8e41;
        }
    </style>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script>
        
        function addRow() {
                   var table = document.getElementById("myTable");
                   var rowCount = table.rows.length;
                   var row = table.insertRow(-1);
                   var rankCell = row.insertCell(0);
                   var nameCell = row.insertCell(1);
                   var inputCell = row.insertCell(2);
                   rankCell.innerHTML = rowCount;
                   nameCell.innerHTML = "<input type='text'>";
                   inputCell.innerHTML = "<input type='text'>";
               }

        function sortTable() {
            var table, rows, switching, i, x, y, shouldSwitch;
            table = document.getElementById("myTable");
            switching = true;
            while (switching) {
                switching = false;
                rows = table.rows;
                for (i = 1; i < (rows.length - 1); i++) {
                    shouldSwitch = false;
                    x = parseFloat(rows[i].getElementsByTagName("input")[0].value);
                    y = parseFloat(rows[i + 1].getElementsByTagName("input")[0].value);
                    if (isNaN(x) || isNaN(y)) {
                        continue;
                    }
                    if (x < y) {
                        shouldSwitch = true;
                        break;
                    } else if (x === y) {
                        var xRank = parseInt(rows[i].getElementsByTagName("td")[0].innerHTML);
                        var yRank = parseInt(rows[i + 1].getElementsByTagName("td")[0].innerHTML);
                        if (isNaN(xRank) || isNaN(yRank)) {
                            continue;
                        }
                        if (xRank > yRank) {
                            shouldSwitch = true;
                            break;
                        }
                    }
                }
                if (shouldSwitch) {
                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                    switching = true;
                }
            }
        


                    // update ranks based on user input
                    var prevValue = null;
                    var rank = 0;
                    rows = table.rows;
                    for (i = 1; i < rows.length; i++) {
                        var currentValue = rows[i].getElementsByTagName("TD")[2].getElementsByTagName("input")[0].value.toLowerCase();
                        if (prevValue === null || currentValue !== prevValue) {
                            rank++;
                        }
                        rows[i].getElementsByTagName("TD")[0].innerHTML = rank;
                        prevValue = currentValue;
                    }
                }
        function saveTable() {
                    var table = document.getElementById("myTable");
                    var rows = table.rows;
                    for (var i = 0; i < rows.length; i++) {
                        rows[i].style.height = "40px";
                    }
                    html2canvas(table).then(function(canvas) {
                        var link = document.createElement("a");
                        document.body.appendChild(link);
                        link.download = "table.png";
                        link.href = canvas.toDataURL();
                        link.target = "_blank";
                        link.click();
                        for (var i = 0; i < rows.length; i++) {
                            rows[i].style.height = null;
                        }
                    });
                }
        
    </script>
</head>
<body>
    <h2>IPL PREDICTION POINTS TABLE</h2>
    <table id="myTable">
        <thead>
            <tr>
                <th>Rank</th>
                <th>Name</th>
                <th>Points</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>Siddhartha</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>2</td>
                <td>Avishek</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>3</td>
                <td>Sayan</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>4</td>
                <td>Joyon</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>5</td>
                <td>Aditya</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>6</td>
                <td>Aakash</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>7</td>
                <td>Abhinandan</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>8</td>
                <td>Anish</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>9</td>
                <td>Rishav</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>10</td>
                <td>Swapnil</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>11</td>
                <td>Raktim</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>12</td>
                <td>Subhajit</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>13</td>
                <td>Deb</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>14</td>
                <td>Subhodip</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>15</td>
                <td>Avik</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>16</td>
                <td>Barun</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>17</td>
                <td>Soumalya</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>18</td>
                <td>Piyal</td>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td>19</td>
                <td>Kaustav</td>
                <td><input type="text"></td>
            </tr>
            
        </tbody>
    </table>
    <button onclick="sortTable()">Sort Table</button>
    <button onclick="saveTable()">Save as PNG</button>
    </body>
    </html>
